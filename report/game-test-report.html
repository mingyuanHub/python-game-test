<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>iview example</title>
    <link rel="stylesheet" type="text/css" href="iview.css">
    <script type="text/javascript" src="vue.min.js"></script>
    <script type="text/javascript" src="iview.min.js"></script>
    <script src="https://unpkg.com/ionicons@4.2.2/dist/ionicons.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/highcharts.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/highcharts-3d.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/modules/exporting.js"></script>
    <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
    
</head>
<body>

<div id="app">
        <div class="layout">
            <Layout>
                <Header :style="{position: 'fixed', width: '100%'}">
                    <i-menu mode="horizontal" theme="dark" active-name="1">
                        <div class="layout-logo"></div>
                        <div class="layout-nav">
                            <Menu-Item name="1">
                                <Icon type="md-pulse"></Icon>
                                <!-- <Icon type="ios-navigate"></Icon> -->
                                测试用例报告
                            </Menu-Item>
                            <!-- <Menu-Item name="2">
                                <Icon type="ios-keypad"></Icon>
                                Item 2
                            </Menu-Item> -->
                        </div>
                    </i-menu>
                </Header>
                <Content :style="{margin: '88px 20px 0', background: '#fff', minHeight: '600px'}">
                    <div id="container" style="height: 400px"></div>
                </Content>
                <Footer class="layout-footer-center">2016-2019 &copy; Zhuan Fang</Footer>
            </Layout>
        </div>
</div>
<script>
    new Vue({
        el: '#app',
        data () {
            return {
                header_info: {
                    "start_time":"2019-07-30 18:29:33.626361",
                    "total":4,
                    "success":3,
                    "error":0,
                    "failure":1,
                    "skip":0,
                    "duration":"631 ms",
                },
                all_results: {
                    
                            "test_profit.profit":[
                                
                                    
                                        {
                                            "test_description":"test_af_profit_getUserProfit (test_profit.profit)",
                                            "outcome":"0",
                                            "SUCCESS":0,
                                            "SKIP":3,
                                            "FAILURE":1,
                                            "stdout": '224' ,
                                            "err1":  "" ,
                                            "err2":   "" ,
                                            "err_info":  "" , 
                                        },
                                    
                                        {
                                            "test_description":"test_harvest_profit (test_profit.profit)",
                                            "outcome":"1",
                                            "SUCCESS":0,
                                            "SKIP":3,
                                            "FAILURE":1,
                                            "stdout": "" ,
                                            "err1":  'AssertionError' ,
                                            "err2":   '200 != 20022' ,
                                            "err_info":  'Traceback (most recent call last):  File "/Users/mingyuan/python/python-game-test/af/test_profit.py", line 35, in test_harvest_profit    self.assertEqual(res["code"], 20022)AssertionError: 200 != 20022' , 
                                        },
                                    
                                
                            ],
                    
                            "test_user.user":[
                                
                                    
                                        {
                                            "test_description":"test_getGameData (test_user.user)",
                                            "outcome":"0",
                                            "SUCCESS":0,
                                            "SKIP":3,
                                            "FAILURE":1,
                                            "stdout": "" ,
                                            "err1":  "" ,
                                            "err2":   "" ,
                                            "err_info":  "" , 
                                        },
                                    
                                        {
                                            "test_description":"test_updateGameData (test_user.user)",
                                            "outcome":"0",
                                            "SUCCESS":0,
                                            "SKIP":3,
                                            "FAILURE":1,
                                            "stdout": "" ,
                                            "err1":  "" ,
                                            "err2":   "" ,
                                            "err_info":  "" , 
                                        },
                                    
                                
                            ],
                    
                },
                summaries:{
                    
                            "test_profit.profit":"{'total': 2, 'error': 0, 'failure': 1, 'skip': 0, 'success': 1, 'duration': '232 ms'}",
                    
                            "test_user.user":"{'total': 2, 'error': 0, 'failure': 0, 'skip': 0, 'success': 2, 'duration': '398 ms'}",
                    
                },
            }
        },
        methods: {
            
        },
        mounted:function()
        {
            var chart = Highcharts.chart('container', {
                chart: {
                        type: 'pie',
                        options3d: {
                            enabled: true,
                            alpha: 45
                        }
                },
                title: {
                        text: 'Python Unittest Result'
                },
                subtitle: {
                        text: 'Zhuan Fang 2019 '
                },
                plotOptions: {
                    pie: {
                            innerSize: 100,
                            depth: 45
                    }
                },
                series: [
                    {
                        name: 'Test Case ',
                        data: [
                            ['成功', this.header_info.success],
                            ['失败', this.header_info.failure],
                            ['报错', this.header_info.error],
                            ['忽略', this.header_info.skip],
                        ]
                    }
                ]
            })
        }
    })
  </script>
</body>
</html>

<style>
    .layout{
        border: 1px solid #d7dde4;
        background: #f5f7f9;
        position: relative;
        border-radius: 4px;
        overflow: hidden;
    }
    .layout-logo{
        width: 100px;
        height: 30px;
        background: #5b6270;
        border-radius: 3px;
        float: left;
        position: relative;
        top: 15px;
        left: 20px;
    }
    .layout-nav{
        width: 420px;
        margin: 0 auto;
        margin-right: 20px;
    }
    .layout-footer-center{
        text-align: center;
    }
</style>